{% extends 'base_dashboard.html.twig' %}

{% block title %}Tableau de bord{% endblock %}

{% block body %}
    <!-- Main -->
        <main class="container py-4">
            <section class="hero">
                <h1 class="display-6 mb-1">Prêt à générer vos devis<br>professionnels&nbsp;?</h1>
            </section>

            <section class="mt-4">
                <div class="row g-3 g-md-4">
                    <div class="col-12 col-md-6">
                        <a class="tile tile-primary d-flex align-items-center gap-3 text-decoration-none" href="{{ path("app_devis") }}">
                            <i class="bi bi-plus-lg fs-3"></i>
                            <span class="fs-5 fw-semibold">Créer un devis</span>
                        </a>
                    </div>

                    <div class="col-12 col-md-6">
                        <a class="tile tile-primary d-flex align-items-center gap-3 text-decoration-none" href="{{ path("app_invoice") }}">
                            <i class="bi bi-plus-lg fs-3"></i>
                            <span class="fs-5 fw-semibold">Créer une facture</span>
                        </a>
                    </div>

                    <div class="col-6 col-md-3">
                        <a class="tile d-flex align-items-center gap-3 text-decoration-none text-dark" href="{{ path("app_devis_list") }}">
                            <i class="bi bi-card-text fs-3"></i>
                            <span class="fw-semibold">Mes devis</span>
                        </a>
                    </div>

                    <div class="col-6 col-md-3">
                        <a class="tile d-flex align-items-center gap-3 text-decoration-none text-dark" href="{{ path("app_invoice_list") }}">
                            <i class="bi bi-card-text fs-3"></i>
                            <span class="fw-semibold">Mes factures</span>
                        </a>
                    </div>

                    <div class="col-6 col-md-3">
                        <a class="tile d-flex align-items-center gap-3 text-decoration-none text-dark" href="{{ path("app_customer") }}">
                            <i class="bi bi-person-fill fs-3"></i>
                            <span class="fw-semibold">Mes clients</span>
                        </a>
                    </div>

                    <div class="col-12 col-md-6">
                        <a class="tile d-flex align-items-center gap-3 text-decoration-none text-dark" href="{{ path("app_parameters_info_entreprise") }}">
                            <i class="bi bi-person-gear fs-3"></i>
                            <div>
                                <div class="fw-semibold">Paramètres du compte</div>
                                <small class="text-secondary">Profil, entreprise, TVA…</small>
                            </div>
                        </a>
                    </div>

                    <div class="col-12 col-md-6">
                        <a class="tile d-flex align-items-center gap-3 text-decoration-none text-dark" href="{{ path("app_parameters_numerotation") }}">
                            <i class="bi bi-gear-fill fs-3"></i>
                            <div>
                                <div class="fw-semibold">Paramètres du compte</div>
                                <small class="text-secondary">Devis, modèles, numérotation…</small>
                            </div>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Stats -->
            <section class="mt-3 mt-md-4">
                <div class="row g-3 g-md-4">
                    <div class="col-12 col-md-4">
                        <div class="stat d-flex align-items-center gap-3">
                            <i class="bi bi-file-earmark-text fs-3"></i>
                            <div>
                                <div class="h5 mb-0">{{ sumDevisCreated }}</div>
                                <small class="text-secondary">Nombre total de devis créés</small>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-md-4">
                        <div class="stat d-flex align-items-center gap-3">
                            <i class="bi bi-envelope fs-3"></i>
                            <div>
                                <div class="h5 mb-0">{{ sumDevisSended }}</div>
                                <small class="text-secondary">Nombre de devis envoyés</small>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-md-4">
                        <div class="stat d-flex align-items-center gap-3">
                            <i class="bi bi-currency-euro fs-3"></i>
                            <div>
                                <div class="h5 mb-0">{{ totalsTTCDevisSended }}&nbsp;€</div>
                                <small class="text-secondary">Montant total devisé TTC</small>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="mt-3 mt-md-4">
                <div class="row g-3 g-md-4">
                    <div class="col-12 col-md-4">
                        <div class="stat d-flex align-items-center gap-3">
                            <i class="bi bi-file-earmark-text fs-3"></i>
                            <div>
                                <div class="h5 mb-0">{{ sumInvoicesCreated }}</div>
                                <small class="text-secondary">Nombre total de factures créées</small>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-md-4">
                        <div class="stat d-flex align-items-center gap-3">
                            <i class="bi bi-envelope fs-3"></i>
                            <div>
                                <div class="h5 mb-0">{{ sumInvoicesSended }}</div>
                                <small class="text-secondary">Nombre de factures envoyées</small>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-md-4">
                        <div class="stat d-flex align-items-center gap-3">
                            <i class="bi bi-currency-euro fs-3"></i>
                            <div>
                                <div class="h5 mb-0">{{ totalsTTCInvoicesSended }}&nbsp;€</div>
                                <small class="text-secondary">Montant total facturé TTC</small>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        {% endblock %}
